api:
  name: test api
  username: apiuser
  password: passw0rd
  endpoint: http://localhost
  port: 8763

scenarios:
  - name: call api endpoint
    method: GET
    path: /test
    headers:
      contentType: application/json
      test: test1
    expect:
      status: 200
      body:
        data[0].code: code1
        data[0].name: name1
    variables:
      defined: data.error

  - name: call api endpoint1
    method: GET
    path: /shops/1/orders
    headers:
      contentType: application/json
      test: test1
    expect:
      status: 200
      body:
        data.find { it.vehicle == "this_is_car2" }.price: 123123
        data[0].price: 99
    variables:
      defined: data.error
